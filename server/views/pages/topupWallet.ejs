<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
<link rel="icon" href="<%=hostPath%>/images/source/laptop-512.png">
</head>
<body>
    <% include ../partials/header %>
    <div class="container mt-5">
        <div class="card pl-3 pr-3">
        <div class="p-5 text-center m-md-5">
            <h1 class="font-weight-light mt-3 mb-5">
                <strong>My Silicon Wallet</strong>
            </h1>
            <div class="container mt-3">
                <h2 class="font-weight-light mt-3 mb-3">
                    Please select the amount to top up your wallet
                </h2>
                <div class="row pt-3 pb-4 justify-content-center">
                <div class="col-3">
                    <a class="topupBtn" data-id="5">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $5
                        </button>
                    </a>
                    <a class="topupBtn" data-id="10">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $10
                        </button>
                    </a>
                </div>
                <div class="col-3">
                    <a class="topupBtn" data-id="50">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $50
                        </button>
                    </a>
                    <a class="topupBtn" data-id="100">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $100
                        </button>
                    </a>
                </div>
                <div class="col-3">
                    <a class="topupBtn" data-id="500">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $500
                        </button>
                    </a>
                    <a class="topupBtn" data-id="1000">
                        <button type="button" class="btn btn-success btn-lg">
                        Top Up $1000
                        </button>
                    </a>
                </div>
                </div>
            </div>
        </div>
        </div>
    </div>
    <script>
        var balance_num = 0;
        $(".topupBtn").click(function () {
            var balance_num = $(this).data("id");
            console.log(balance_num);
            updateWallet(balance_num);
        });
        updateWallet=(balance_num)=>{
            var url = "<%=hostPath%>/Wallet/topup";
            $.ajax({
                url: url,
                type: "POST",
                data: JSON.stringify({balance:balance_num}),
                dataType: "json",
                contentType: "application/json",
                success: function() {
                    alert("Top up successful");
                    window.location.href= "/Wallet";
                },
                error: function(result) {
                    alert("Error updating your wallet");
                }
            })
        }
    </script>
    <% include ../partials/footer %>
</body>
</html>